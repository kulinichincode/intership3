# User story

> ## Application name

`fit-trainer`

---

> ## Description

Приложение предназначено для создания программы тренировок.
С помощью приложения пользователи могут создавать отдельные упражнения и составлять из них планы тренировок. Упражнение состоит из названия и типа измерения (расстояние, время, вес). Тренировка состоит из перечня упражнений с указанием количества выполненной работы (пройденное расстояние, время выполнения упражнения или вес) и количество повторений. Перечень тренировок пользователь может видеть на календаре.

---

> ## Pages

При открытии сайта проверяется, вошел пользователь в систему или нет. Если пользователь вошел, то идет перенаправление на `Dashboard page`. Если пользователь не вошел, то идет перенаправление на `Signin page`.

1.  ### `Signin page` - страница входа в приложение.

    На этой странице отображаются поля ввода `Email`, `Password` и кнопка `Sign in`.
    Ниже кнопки `Sign in` находится ссылка перехода на страницу регистрации `Signup page`.
    По нажатию на кнопку `Sign in` отправляется запрос на backend. Если `email` и `password` правильно введены, то backend возвращает `JWT`, который в дальнейшем используется для запросов к backend. Если `email` и `password` не правильно введены, то backend возвращает ответ с указанием на ошибку и на странице `Signin page` показвается сообщение об ошибочном вводе. После получения `JWT`, он сохраняется в local storage, а затем идет перенаправление на страницу `Dashboard page`.

2.  ### `Signup page` - страница регистрации в приложении.

    На этой странице отображаются поля ввода `Email`, `Password`, `Repeat Password` и кнопка `Sign up`.
    Ниже кнопки `Sign up` находится ссылка перехода на страницу входа в приложение `Signin page`.
    По нажатию на кнопку `Sign up` отправляется запрос на backend. Backend формирует письмо, с однократным кодом регистрации и отправляет его на указанный email (в учебном варианте ссылка выводится в консоли работающего backend'а). Пользователь открывает в почтовом клиенте письмо и нажимает на ссылку в письме с кодом регистрации (в учебном варианте пользователь открывает ссылку в консоли работающего backend'а). Ссылка ведет на frontend на страницу `Email verification page`.

3.  ### `Email verification page` - страница проверки email при регистрации в приложении.

    На этой странице отображаются поля ввода `Email` без возможности редактирования, скрытое поле с кодом регистрации и кнопка `Verify email`.
    Ниже кнопки `Verify email` находится ссылка перехода на страницу входа в приложение `Signin page`.
    По нажатию на кнопку `Verify email` отправляется запрос на backend с email и кодом регистрации. Backend проверяет email и код регистрации, и в случае успеха возвращает JWT. Далее действия производятся аналогично `Signin page`. Если ответ от backend отрицательный, то выдается сообщению пользователю об ощибке проверки email.

4.  ### `Dashboard page` - основная страница приложения.

    На основной странице отображается календарь, в котором отмечены дни тренировок (для этих дней существуют планы тренировок), текущая дата и выбранная дата. По нажатию в календаре на день, для которого создан план тренировки, открывается страница `Edit Workout page` для редактирования выбранного плана тренировки.

    В верхней части `Dashboard page` отображается иконка с изображением фотографии пользователя или placeholder-картинка, если пользователем не задана фотография. По нажатию на эту иконку появляется dropdown-меню с пунктом `Sign out`. Нажатие на пункт меню `Sign out` осуществляет сброс состояния текущего пользователя и JWT, и идет перенаправление на страницу `Sign in page`. Слева от иконки располагается надпись, отображающая email зарегистрированного в приложении пользователя.

    В левой части `Dashboard page` отображается sidebar с перечнем страниц. Нажатие на название страницы приводит к переключению текущей отображаемой страницы.

    Перечень страниц в меню:

    - `Dashboard`;
    - `New Exercise`;
    - `Edit Exercises`;
    - `New Workout`;
    - `Edit Workout`.

5.  ### `New Exercise` - страница создания нового упражнения.

    На странице в верхней части располагается поле ввода названия упражнения. Далее, ниже от названия упражнения находится выпадающий список для типа измерения упражнения. Возможные значения определяют расстояние, время или вес. Ниже списка для типа измерения упражнения находится кнопка `Create exercise`, нажатие на которую создает упражнение и осуществляется переход на страницу `Dashboard page`.

    В верхней части `New Exercise` отображается иконка с изображением фотографии пользователя или placeholder-картинка, если пользователем не задана фотография. По нажатию на эту иконку появляется dropdown-меню с пунктом `Sign out`. Нажатие на пункт меню `Sign out` осуществляет сброс состояния текущего пользователя и JWT, и идет перенаправление на страницу `Sign in page`. Слева от иконки располагается надпись, отображающая email зарегистрированного в приложении пользователя.

6.  ### `Edit Exercises` - страница редактирования упражнений.

    Отображается список упражнений в виде таблицы. В первой колонке таблицы отображается название упражнения, во второй колонке отображается выпадающий список выбора типа измерения для упражнения, в третьей колонке отображаются кнопки со стрелками вверх и вниз, а также кнопка с изображением `x`. Нажатие на кнопки со стрелками вверх и вниз перемещает упражнение по списку соответственно. Нажатие на кнопку с изображением `x` вызывает появление подтверждения удаления упражнения и затем после успешного подтверждения упражнение удаляется. Ниже списка упражнений находится кнопка `Update exercises`, нажатие на которую обновляет данные по упражнениям на backend'е.

    В верхней части `Edit Exercises` отображается иконка с изображением фотографии пользователя или placeholder-картинка, если пользователем не задана фотография. По нажатию на эту иконку появляется dropdown-меню с пунктом `Sign out`. Нажатие на пункт меню `Sign out` осуществляет сброс состояния текущего пользователя и JWT, и идет перенаправление на страницу `Sign in page`. Слева от иконки располагается надпись, отображающая email зарегистрированного в приложении пользователя.

7.  ### `New Workout` - страница создания нового плана тренировки.

    На странице в верхней части располагается кнопка добаления упражнения в создаваемый план тренировки. Далее, ниже этой кнопки находится список упражнений в виде таблицы. В первой колонке таблицы отображается название упражнения, во второй колонке отображается поле ввода количества повторений упраажнения в плане тренировки, в третьей колонке отображается поле ввода величины измерения нагрузки упражнения, в четвертой колонке отображается единицы измерения нагрузкки упражнения (расстояние, время или вес), в пятой колонке отображаются кнопки со стрелками вверх и вниз, а также кнопка с изображением `x`. Нажатие на кнопки со стрелками вверх и вниз перемещает упражнение по списку соответственно. Нажатие на кнопку с изображением `x` вызывает появление подтверждения удаления упражнения и затем после успешного подтверждения упражнение удаляется. Ниже списка упражнений находится кнопка `Create workout`, нажатие на которую создает новый план тренировок на backend'е и осуществляется переход на страницу `Dashboard page`.

    В верхней части `New Workout` отображается иконка с изображением фотографии пользователя или placeholder-картинка, если пользователем не задана фотография. По нажатию на эту иконку появляется dropdown-меню с пунктом `Sign out`. Нажатие на пункт меню `Sign out` осуществляет сброс состояния текущего пользователя и JWT, и идет перенаправление на страницу `Sign in page`. Слева от иконки располагается надпись, отображающая email зарегистрированного в приложении пользователя.

8.  ### `Edit Workout` - страница редактирования плана тренировки.

    На странице в верхней части располагается кнопка добаления упражнения в редактируемый план тренировки. Далее, ниже этой кнопки находится список упражнений в виде таблицы. В первой колонке таблицы отображается название упражнения, во второй колонке отображается поле ввода количества повторений упраажнения в плане тренировки, в третьей колонке отображается поле ввода величины измерения нагрузки упражнения, в четвертой колонке отображается единицы измерения нагрузкки упражнения (расстояние, время или вес), в пятой колонке отображаются кнопки со стрелками вверх и вниз, а также кнопка с изображением `x`. Нажатие на кнопки со стрелками вверх и вниз перемещает упражнение по списку соответственно. Нажатие на кнопку с изображением `x` вызывает появление подтверждения удаления упражнения и затем после успешного подтверждения упражнение удаляется. Ниже списка упражнений находится кнопка `Update workout`, нажатие на которую обновляет план тренировок на backend'е и осуществляется переход на страницу `Dashboard page`.

    В верхней части `Edit Workout` отображается иконка с изображением фотографии пользователя или placeholder-картинка, если пользователем не задана фотография. По нажатию на эту иконку появляется dropdown-меню с пунктом `Sign out`. Нажатие на пункт меню `Sign out` осуществляет сброс состояния текущего пользователя и JWT, и идет перенаправление на страницу `Sign in page`. Слева от иконки располагается надпись, отображающая email зарегистрированного в приложении пользователя.
